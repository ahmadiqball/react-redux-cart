(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,function(t,e,c){t.exports={item:"CartItem_item__hF1Xd",details:"CartItem_details__3yjo0",quantity:"CartItem_quantity__159It",price:"CartItem_price__1BFfL",itemprice:"CartItem_itemprice__3uHrg",actions:"CartItem_actions__29rw1"}},,,,,function(t,e,c){t.exports={item:"ProductItem_item__dzV7I",price:"ProductItem_price__clWIW",actions:"ProductItem_actions__1xd-o"}},function(t,e,c){t.exports={notification:"Notification_notification__119_A",error:"Notification_error__3dvBZ",success:"Notification_success__KgAHH"}},,,,,function(t,e,c){t.exports={button:"CartButton_button__1X4t9",badge:"CartButton_badge__1NvX6"}},,,function(t,e,c){t.exports={card:"Card_card__vwXzS"}},function(t,e,c){t.exports={cart:"Cart_cart__2O89f"}},function(t,e,c){t.exports={header:"MainHeader_header__10VLi"}},function(t,e,c){t.exports={products:"Products_products__3iTdH"}},,,,,,,,,,,function(t,e,c){},,function(t,e,c){"use strict";c.r(e);var a=c(10),r=c.n(a),n=c(8),i=c(5),s=Object(n.b)({name:"cart",initialState:{cartItem:[],totalItem:0,showCart:!1},reducers:{addtoCart:function(t,e){var c=t.cartItem.findIndex((function(t){return t.id===e.payload.item.id})),a=t.cartItem[c];if(a){var r=t.cartItem;r[c]=Object(i.a)(Object(i.a)({},a),{},{quantity:t.cartItem[c].quantity+1,total:t.cartItem[c].total+t.cartItem[c].price}),t.cartItem=r,t.totalItem=t.totalItem+1}else t.cartItem=t.cartItem.concat(Object(i.a)(Object(i.a)({},e.payload.item),{},{total:e.payload.item.price})),t.totalItem=t.totalItem+1},removeFromCart:function(t,e){var c=t.cartItem.findIndex((function(t){return t.id===e.payload})),a=t.cartItem[c];if(1===a.quantity)t.cartItem.filter((function(t){return t.id!==e.payload}));else{var r=t.cartItem;r[c]=Object(i.a)(Object(i.a)({},a),{},{quantity:t.cartItem[c].quantity-1,total:t.cartItem[c].total-t.cartItem[c].price}),t.cartItem=r,t.totalItem=t.totalItem-1}},cartToggle:function(t){t.showCart=!t.showCart},initiateCart:function(t,e){t.totalItem=e.payload.totalItem,t.cartItem=e.payload.cartItem}}}),o=s.actions,u=s.reducer,d=Object(n.b)({name:"ui",initialState:{showNotification:!1,status:"",title:"",message:""},reducers:{showNotification:function(t,e){t.showNotification=!0,t.status=e.payload.status,t.title=e.payload.title,t.message=e.payload.message},hideNotification:function(t){t.showNotification=!1}}}),l=d.actions,j=d.reducer,b=Object(n.a)({reducer:{cart:u,ui:j}}),m=c(3),f=(c(35),c(21)),h=c.n(f),p=c(0),O=function(t){return Object(p.jsx)("section",{className:"".concat(h.a.card," ").concat(t.className?t.className:""),children:t.children})},x=c(22),_=c.n(x),I=c(7),v=c.n(I),g=function(t){var e=t.item,c=e.id,a=e.title,r=e.quantity,n=e.total,i=e.price,s=Object(m.b)();return Object(p.jsxs)("li",{className:v.a.item,children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h3",{children:a}),Object(p.jsxs)("div",{className:v.a.price,children:["$",n.toFixed(2)," ",Object(p.jsxs)("span",{className:v.a.itemprice,children:["($",i.toFixed(2),"/item)"]})]})]}),Object(p.jsxs)("div",{className:v.a.details,children:[Object(p.jsxs)("div",{className:v.a.quantity,children:["x ",Object(p.jsx)("span",{children:r})]}),Object(p.jsxs)("div",{className:v.a.actions,children:[Object(p.jsx)("button",{onClick:function(){s(o.removeFromCart(c))},children:"-"}),Object(p.jsx)("button",{onClick:function(){s(o.addtoCart({item:{id:c,title:a,price:i,quantity:1}}))},children:"+"})]})]})]})},y=c(6),w=c(9),N=!0,C=c(1),k=c.n(C),q=!0,S=function(t){var e=Object(m.c)((function(t){return t.cart.cartItem})),c=Object(m.c)((function(t){return t.cart.totalItem})),a=Object(m.c)((function(t){return t.cart.showCart})),r=Object(m.b)();return Object(C.useEffect)((function(){r(function(){var t=Object(w.a)(Object(y.a)().mark((function t(e){var c,a;return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){var t=Object(w.a)(Object(y.a)().mark((function t(){var e,c;return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://redux-cart-2cf7d-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json");case 2:return e=t.sent,t.next=5,e.json();case 5:if(c=t.sent,e.ok){t.next=8;break}throw new Error("Something when wrong in GET data.");case 8:return t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,c();case 4:a=t.sent,e(o.initiateCart(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(l.showNotification({status:"error",title:"Error",message:"Your cart failed to get!"}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[r]),Object(C.useEffect)((function(){var t;q?q=!1:r((t={cartItem:e,totalItem:c},function(){var e=Object(w.a)(Object(y.a)().mark((function e(c){var a;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=3;break}return N=!1,e.abrupt("return");case 3:c(l.showNotification({status:"pending",title:"Sending...",message:"Sending your cart data."})),a=function(){var e=Object(w.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://redux-cart-2cf7d-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json",{method:"PUT",body:JSON.stringify(t)});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Something went wrong in PUT data!");case 5:c(l.showNotification({status:"success",title:"Success",message:"Your cart successfully sent."}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a().catch((function(){c(l.showNotification({status:"error",title:"Error",message:"Your cart failed to sent!"}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,c,r]),Object(p.jsxs)(O,{className:_.a.cart,children:[Object(p.jsx)("h2",{children:"Your Shopping Cart"}),a&&Object(p.jsx)("ul",{children:e.map((function(t){return Object(p.jsx)(g,{item:t},t.id)}))})]})},T=c(18),F=c.n(T),E=function(t){var e=Object(m.b)(),c=Object(m.c)((function(t){return t.cart.totalItem}));return Object(p.jsxs)("button",{className:F.a.button,onClick:function(){e(o.cartToggle())},children:[Object(p.jsx)("span",{children:"My Cart"}),Object(p.jsx)("span",{className:F.a.badge,children:c})]})},B=c(23),P=c.n(B),H=function(t){return Object(p.jsxs)("header",{className:P.a.header,children:[Object(p.jsx)("h1",{children:"ReduxCart"}),Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{children:Object(p.jsx)("li",{children:Object(p.jsx)(E,{})})})})]})},z=function(t){return Object(p.jsxs)(C.Fragment,{children:[Object(p.jsx)(H,{}),Object(p.jsx)("main",{children:t.children})]})},X=c(12),Y=c.n(X),A=function(t){var e=t.id,c=t.title,a=t.price,r=t.description,n=Object(m.b)();return Object(p.jsx)("li",{className:Y.a.item,children:Object(p.jsxs)(O,{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h3",{children:c}),Object(p.jsxs)("div",{className:Y.a.price,children:["$",a.toFixed(2)]})]}),Object(p.jsx)("p",{children:r}),Object(p.jsx)("div",{className:Y.a.actions,children:Object(p.jsx)("button",{onClick:function(){n(o.addtoCart({item:{id:e,title:c,price:a,quantity:1}}))},children:"Add to Cart"})})]})})},J=c(24),$=c.n(J),L=function(t){return Object(p.jsxs)("section",{className:$.a.products,children:[Object(p.jsx)("h2",{children:"Buy your favorite products"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)(A,{id:"i1",title:"Test",price:6,description:"This is a first product - amazing!"}),Object(p.jsx)(A,{id:"i2",title:"2nd Test",price:5,description:"This is a second product - amazing!"})]})]})},M=c(13),U=c.n(M),V=function(t){var e="";"error"===t.status&&(e=U.a.error),"success"===t.status&&(e=U.a.success);var c="".concat(U.a.notification," ").concat(e);return Object(p.jsxs)("section",{className:c,children:[Object(p.jsx)("h2",{children:t.title}),Object(p.jsx)("p",{children:t.message})]})};var W=function(){var t=Object(m.c)((function(t){return t.ui.showNotification})),e=Object(m.c)((function(t){return t.ui}));return Object(p.jsxs)(k.a.Fragment,{children:[t&&Object(p.jsx)(V,{status:e.status,title:e.title,message:e.message}),Object(p.jsxs)(z,{children:[Object(p.jsx)(S,{}),Object(p.jsx)(L,{})]})]})};r.a.render(Object(p.jsx)(m.a,{store:b,children:Object(p.jsx)(W,{})}),document.getElementById("root"))}],[[37,1,2]]]);
//# sourceMappingURL=main.a32058c1.chunk.js.map